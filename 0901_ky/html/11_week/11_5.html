<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mousedown과 mouseup으로 선 그리기</title>
</head>
<body onload="init()">
    <h3>mousedown과 mouseup으로 선 그리기</h3>
    <hr>

    <canvas id="myCanvas" width="550" height="200" style="background-color:aliceblue"></canvas>

    <script>
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    
    var dragging = false;
    var startX, startY;

    canvas.addEventListener('mousedown', (e) => {
        dragging = true;
        startX = e.clientX - canvas.offsetLeft;
        startY = e.clientY - canvas.offsetTop;
    });

    canvas.addEventListener('mousemove', (e) => {
        if (dragging) {
        var endX = e.clientX - canvas.offsetLeft;
        var endY = e.clientY - canvas.offsetTop;

        context.clearRect(0, 0, canvas.width, canvas.height); // 이전 선을 지웁니다.
        context.beginPath();
        context.strokeStyle = "blue";
            context.lineWidth = 3;
        context.moveTo(startX, startY);
        context.lineTo(endX, endY);
        context.stroke();
        }
    });

    canvas.addEventListener('mouseup', () => {
        dragging = false;
    });

    canvas.addEventListener('mouseleave', () => {
        dragging = false;
    });
    </script>
</body>
</html>